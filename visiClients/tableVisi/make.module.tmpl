#
# $Log: make.module.tmpl,v $
# Revision 1.6  1996/02/11 21:23:45  tamches
# TCL2C invoked via perl
#
# Revision 1.5  1995/12/27 08:29:59  tamches
# added TCLFRIENDLYWARNINGS to compile flags (used to reside in system-specific
# makefile for no good reason)
#
# Revision 1.4  1995/12/20 02:11:20  tamches
# removed TCL2C and TCL2C_GEN_SRCS (now in make.config)
#
# Revision 1.3  1995/12/16 00:25:59  tamches
# removed VPATH to ../../barChart
#
# Revision 1.2  1995/11/29 00:42:28  tamches
# added pdLogo.C
#
# Revision 1.1  1995/11/04 00:41:38  tamches
# First version of new table visi
#
#

TARGET	      = tableVisi

SRCS	     += ../src/tableVisi.C \
		../src/tvMetric.C \
		../src/tvFocus.C \
		../src/tvCell.C \
		../../../paradyn/src/UIthread/minmax.C \
		../../../paradyn/src/UIthread/tkTools.C \
		../../../paradyn/src/UIthread/pdLogo.C \
		../src/dg2.C \
		../src/tableVisiTcl.C \
		../src/main.C \
		../src/templates.C

VPATH		+= ../src:../../../paradyn/src/UIthread

CXXFLAGS	+= $(TCLFRIENDLYWARNINGS) 
CFLAGS		+= $(TCLFRIENDLYWARNINGS) 
TFLAGS		+= $(TCLFRIENDLYWARNINGS)

IFLAGS 		+= -I../../../util/h \
		   -I../../../paradyn/src/UIthread

# if $(TO_CORE)/visi doesn't exist, then the -I$(TO_CORE) automatically
# inserted by make.config won't be enough for the compiler to find,
# say, visi/h/visualization.h.  We don't want to force the user to have
# "visi" checked out in order to compile tableVisi.
IFLAGS	+= $(shell if [ -d $(TO_CORE)/visi ]; then echo ""; else echo -I/p/paradyn/core; fi )

TCL_SRCS	= $(wildcard ../tcl/*.tcl)
#TCL_SRCS	= 
SRCS		+= $(TCL2C_GEN_SRCS)

#LIBDIR		+= -L/s/X11/lib
LIBS         += -lvisi -lpdutil 
SYSLIBS	     += -ltk -ltcl -lX11 -lm

all:	$(TARGET)

$(TCL2C_GEN_SRCS): $(TCL_SRCS)
	perl $(TCL2C) $^ > $@
